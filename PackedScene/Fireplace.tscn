[gd_scene load_steps=22 format=2]

[ext_resource path="res://Assets/World/smoke.png" type="Texture" id=1]
[ext_resource path="res://Assets/Fireplace.png" type="Texture" id=2]
[ext_resource path="res://light.png" type="Texture" id=3]
[ext_resource path="res://Scripts/Fireplace.gd" type="Script" id=4]

[sub_resource type="Gradient" id=1]
offsets = PoolRealArray( 0, 0.475983, 0.973799 )
colors = PoolColorArray( 0.466667, 0.466667, 0.466667, 0.215686, 0.764706, 0.764706, 0.764706, 0.117647, 0.776471, 0.776471, 0.776471, 0 )

[sub_resource type="GradientTexture" id=2]
gradient = SubResource( 1 )

[sub_resource type="ParticlesMaterial" id=3]
emission_shape = 2
emission_box_extents = Vector3( 1, 10, 1 )
flag_disable_z = true
spread = 0.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 25.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
scale = 2.0
color_ramp = SubResource( 2 )

[sub_resource type="Animation" id=4]
length = 0.5
loop = true
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Light2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.25 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 1.0, 1.05 ]
}

[sub_resource type="Animation" id=5]
resource_name = "fire (copy)"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0.00277556, 0.102776, 0.201388, 0.3, 0.4, 0.5, 0.6, 0.698612, 0.797224, 0.897224, 1, 1.1, 1.19861, 1.29722, 1.39722, 1.49722, 1.59722, 1.69584, 1.79445, 1.89445, 2, 2.1, 2.19861, 2.29722, 2.39722, 2.49722, 2.59722, 2.69584, 2.79445, 2.89445, 3, 3.1, 3.19861, 3.29722, 3.39722, 3.49722, 3.59722, 3.69584, 3.79445, 3.89445, 4, 4.1, 4.19861, 4.29722, 4.39722, 4.49722, 4.59722, 4.69584, 4.79445, 4.89445, 5, 5.1, 5.19861, 5.29722, 5.39722, 5.49722, 5.59722, 5.69584, 5.79445, 5.89445, 6, 6.1, 6.19861, 6.29722, 6.39722, 6.49722, 6.59722, 6.69584, 6.79445, 6.89445, 7, 7.1, 7.19861, 7.29722, 7.39722, 7.49722, 7.59722, 7.69584, 7.79445, 7.89445, 8, 8.1, 8.19861, 8.29722, 8.39722, 8.49722, 8.59722, 8.69584, 8.79445, 8.89445, 9, 9.1, 9.19861, 9.29722, 9.39722, 9.49722, 9.59722, 9.69584, 9.79445, 9.89445 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Light2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 10 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0 ]
}

[sub_resource type="Animation" id=6]
resource_name = "fire (copy) (copy)"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0.00277556, 0.102776, 0.201388, 0.3, 0.4, 0.5, 0.6, 0.698612, 0.797224, 0.897224, 1, 1.1, 1.19861, 1.29722, 1.39722, 1.49722, 1.59722, 1.69584, 1.79445, 1.89445, 2, 2.1, 2.19861, 2.29722, 2.39722, 2.49722, 2.59722, 2.69584, 2.79445, 2.89445, 3, 3.1, 3.19861, 3.29722, 3.39722, 3.49722, 3.59722, 3.69584, 3.79445, 3.89445, 4, 4.1, 4.19861, 4.29722, 4.39722, 4.49722, 4.59722, 4.69584, 4.79445, 4.89445, 5, 5.1, 5.19861, 5.29722, 5.39722, 5.49722, 5.59722, 5.69584, 5.79445, 5.89445, 6, 6.1, 6.19861, 6.29722, 6.39722, 6.49722, 6.59722, 6.69584, 6.79445, 6.89445, 7, 7.1, 7.19861, 7.29722, 7.39722, 7.49722, 7.59722, 7.69584, 7.79445, 7.89445, 8, 8.1, 8.19861, 8.29722, 8.39722, 8.49722, 8.59722, 8.69584, 8.79445, 8.89445, 9, 9.1, 9.19861, 9.29722, 9.39722, 9.49722, 9.59722, 9.69584, 9.79445, 9.89445 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Light2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 10 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 1.0, 0.0 ]
}

[sub_resource type="Animation" id=7]
resource_name = "idle"
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 5, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Light2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "fire (copy) (copy)"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "fire (copy)"

[sub_resource type="AnimationNodeAnimation" id=10]
animation = "fire"

[sub_resource type="AnimationNodeAnimation" id=11]
animation = "idle"

[sub_resource type="AnimationNodeStateMachineTransition" id=12]

[sub_resource type="AnimationNodeStateMachineTransition" id=13]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id=14]

[sub_resource type="AnimationNodeStateMachineTransition" id=15]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachine" id=16]
states/fire/node = SubResource( 10 )
states/fire/position = Vector2( 388, 177 )
"states/fire (copy)/node" = SubResource( 9 )
"states/fire (copy)/position" = Vector2( 251, 100 )
"states/fire (copy) (copy)/node" = SubResource( 8 )
"states/fire (copy) (copy)/position" = Vector2( 561, 100 )
states/idle/node = SubResource( 11 )
states/idle/position = Vector2( 388, 37 )
transitions = [ "idle", "fire (copy)", SubResource( 12 ), "fire (copy)", "fire", SubResource( 13 ), "fire", "fire (copy) (copy)", SubResource( 14 ), "fire (copy) (copy)", "idle", SubResource( 15 ) ]
start_node = "idle"
end_node = "idle"

[sub_resource type="AnimationNodeStateMachinePlayback" id=17]

[node name="Fireplace" type="Sprite"]
position = Vector2( 0, 6 )
texture = ExtResource( 2 )
offset = Vector2( 0, -12 )
hframes = 6
frame = 5
script = ExtResource( 4 )

[node name="Particles2D" type="Particles2D" parent="."]
position = Vector2( 0, -4 )
rotation = -1.50446
lifetime = 2.0
process_material = SubResource( 3 )
texture = ExtResource( 1 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/fire = SubResource( 4 )
"anims/fire (copy)" = SubResource( 5 )
"anims/fire (copy) (copy)" = SubResource( 6 )
anims/idle = SubResource( 7 )

[node name="Light2D" type="Light2D" parent="."]
position = Vector2( -1, -7 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.956863, 0.603922, 0.152941, 1 )
energy = 0.0

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource( 16 )
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/playback = SubResource( 17 )
